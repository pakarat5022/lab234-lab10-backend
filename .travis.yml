language: java
before_install:
- sudo rm /usr/local/bin/docker-compose
- curl -L https://github.com/docker/compode/releases/download/1.20.1/docker-compose-`uname -s`-`uname -m` > docker-compose
- chmod +x docker-compose
- sudo mv docker-compose /usr/local/bin
- docker login -u "592115022" -p "$DOCKER_PASSWORD"
install:
- mvn install -Dmaven.javadoc.skip=true -B -V
- ls -l
- docker build --build-arg JAR_FILE=/target/backend.jar -t 592115022/se234-lab10-backend .
- docker push 592115022/se234-lab10-backend
- docker pull 592115022/se234-lab10-client
script:
- docker-compose -H "$DOCKER_HOST" up -d
cache:
  directories:
  - "$HOME/.m2"
env:
  global:
  - secure: HsgAJ4t6uqsZhaKkXjTUd1G9dAYTl+1vY6L9hg17sOV+xhab6asEB1SXD55tOLGHn/pHtzGRxBQX5h9US5gE0N98Yf06NcbSjHJLNQnFlxOAbXAuaNqFmXaCid3tyF0md/zaSyGnl8athJ8btj3N3a3olFwSERtNnu/yKUW5rYd8Sc2ai3cJe80dzmzax/Iwqv+lkvpy9DXN6mYiKJKSt+v0xzmJStXLp8gqYD5zZbVJtDOeEPm+sTLpulWiiZqhZF9APbFirddfkcJxvdpZ++9z6JW0MfOx+4/yP0CpyqpkEzIQ1kOML3SsbGHPWTLqtWq/iaYpbHb1Vltu4LTAZmLTeLLpWdD9+ZiOQ61oS4qXmbU68U3r3L+B/QURCZ9LcBznDNnvl98hrx3+PPvcALy6NOyc/n9vfuclpf6q7H6k9Ed77bwtTXu/YAsb5Qq1yRmAzCkCB0cswBUf1a2/ExVp6jyZLlXw3fcl5jj+BV85AXswBLO/mDM+VB18YFR+mcRRZ2JSA6tJ4gFJu+EG0YLzR3aQNcFbevYUP+p8gU3YviLfKEmzWhjIyWEmbZ14lt86ymNH3ABE9GkyVkzPdG4EdQE1HWuNvHUpGsCHinmLHM4RBerVRa6SgFM5Mjpl6KOn2xP2vWncjI7EtBHdfjAQBJQnDJOgTHAoJ+16DWw=
  - secure: bQnyHNbuY37s7RhZGG8lR1vosbedeYvsE1aeddlIS3bbL5kMcTSIj7+kR3uf6TtGvcpCe+RgwOnGm6bOpyuzbXezr+eigxFUpdAhNM900bO+bnBLMiCKbqc42vQGb0lf+sZqpo5nBn99rp/pER8cggLB0a5oClzjdZrOPbTo86kUMeZXeplAbdLiAqEh5jpPbZ/yczkOgzXwF/CbL2EWDqMxxlJJjpC/Ok5Q3Xrg3Zro6PX20JRU2oOz+OUN8ohkyQiUNSZdrA2RZXRxgLlMCpCkkckSDjLiAwynH6gHWLc3HDr3PPNcRGFo99X7wvyIp5Fi/xT5B5dIkch9YSd9BU3ZFb3BLWx7w4yHa2dIWrebNB6DKpjr0t0js8jMsOBfYhFNDkZfR1IXUyCTtjEhxnk4KpdeLMPwapz9n59u9QGY6McvuTCewSTVdvaTaTYOhqu8XmE3cdQiPsUByM+cBmm6IvIkVBT5HC2/7cWICN1/5S6lA5C0GmiYZKePTsTH56WKXA3tVZ5wzIHo1sPPP+sKL+inBDoVouKt8KEQPKznybNkcBtcHkbjDwHLN3VfRym22V36Dr5nJqBonlmnSaw5AyMwvi+9CVk1fgohNvfFGuus7vbfTFwyiwRDobH1YN2nKxLIl6aLi/Vy0Otd2cwwY6MJjOhzhbz3rC41cvc=
  - secure: ZiMKpZOz7F0BzBkw9bOldzzIuwhe7dRTYmZVoCXIK8LYCZeFcCM1T8jaN3D8QtkA4ubvbuTLHRrKBEyPxjX1vCWXp9tIbuRkugPN4CoIyj4kQomz/mRLe4zewUPbqQKQk6jD3B06u0uci7ppdvFKE+TMrACjk6yfF/RdEB/nI9PYYLApCPUWkE0ztZEgwrPWp8p87KqZNMUz4SPYS8i5wwhrd2PwKs/GfGsl606vUvpao5gv7sr9B/bzX0S4sd4TjjyFtmfCjE/syCL74nX1RBMt/c//osdC5yNP/R/5PZ9zA7CYBZx5WT+zYRb757vSHuh+X+Hr8G6rmlpEIzT9SyTZDu+7OUV4EgtFi84pEYCeYnr4a7nTvuWuG2MFKKjCpINochir1ZcT4TOnTCX1WU2WWNSP/iv2SKdFaTRTMTFXwEZ9FiG6hTvMKfJEWbbzXi7YpZN0hJ+Z5ovNnvivHmWu8zB2uWIfbF9BwcFr6b5igWBv1OQaGvSjWzvDMjdQnEnBDsy9fO/3L2b6mgHYCjpirkZb5Nq132NNvvJf3g+Kj+tt6l565kYoGVDNRgGCHU6IuP3WIvNRJxbgzQtcgALMcxNorsjk7cnTFEQHiuFq9UBhM1fdmXeb8D9Re+NH9jne4h40gGzd8wn2T94xFhVCbEYKs9m5HGjYf0idADk=
